<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ph√¢n T√≠ch & C·∫£i Ti·∫øn Duolingo D·ª±a Tr√™n T√¢m L√Ω H·ªçc</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Calm Harmony (Stone, White, Emerald Green) -->
    <!-- Application Structure Plan: A narrative-driven SPA guiding the user from Problem to Solution. Key sections: 1. The Problem (Interactive Cards), 2. Psychological Theories (Categorized Cards), 3. Interactive 'Before/After' Solution Showcase (Tabs, a Radar Chart, UI mockups, and a Gemini Chatbot demo), 4. Summary Impact Chart. This structure turns a static report into an engaging exploration, directly linking problems to theoretical solutions and demonstrating the proposed improvements interactively, enhancing user understanding far better than a linear document. -->
    <!-- Visualization & Content Choices: Problem -> Inform -> Interactive Cards (JS toggle) to make limitations digestible. Theories -> Organize -> Clickable Cards to link theories to practical problems. Solution (Motivation) -> Compare -> Radar Chart (Chart.js) to visualize shift from extrinsic to intrinsic motivation. Solution (UI) -> Compare -> HTML/CSS Mockups to show concrete UI changes. Solution (Personalization) -> Demonstrate -> Live Gemini API Chatbot to prove the concept of AI-driven practice. Impact -> Summarize -> Final Radar Chart (Chart.js) for a clear takeaway. All choices prioritize interaction and clarity. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 40vh;
            width: 80vw;
            max-width: 500px;
        }
        .tab-button.active {
            border-color: #059669; /* emerald-600 */
            background-color: #d1fae5; /* emerald-100 */
            color: #047857; /* emerald-700 */
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <div id="app" class="container mx-auto px-4 py-8 md:py-12">

        <header class="text-center mb-16">
            <h1 class="text-3xl md:text-5xl font-bold text-emerald-700 mb-4">C·∫£i Ti·∫øn Duolingo</h1>
            <p class="text-lg md:text-xl text-stone-600">V·∫≠n d·ª•ng T√¢m l√Ω h·ªçc K·ªπ thu·∫≠t ƒë·ªÉ n√¢ng cao tr·∫£i nghi·ªám h·ªçc ngo·∫°i ng·ªØ</p>
        </header>
        
        <nav class="sticky top-0 bg-stone-50/80 backdrop-blur-sm z-10 mb-12 py-4 border-b border-stone-200">
            <div class="flex justify-center items-center space-x-4 md:space-x-8 text-sm md:text-base">
                <a href="#problem" class="text-stone-600 hover:text-emerald-700 font-medium transition-colors">V·∫•n ƒê·ªÅ</a>
                <a href="#theories" class="text-stone-600 hover:text-emerald-700 font-medium transition-colors">C∆° S·ªü L√Ω Thuy·∫øt</a>
                <a href="#solution" class="text-stone-600 hover:text-emerald-700 font-medium transition-colors">Gi·∫£i Ph√°p C·∫£i Ti·∫øn</a>
                <a href="#impact" class="text-stone-600 hover:text-emerald-700 font-medium transition-colors">T√°c ƒê·ªông</a>
            </div>
        </nav>

        <main>
            <!-- SECTION 1: THE PROBLEM -->
            <section id="problem" class="mb-20 scroll-mt-24">
                <h2 class="text-2xl md:text-3xl font-bold text-center mb-2">Duolingo: Th√†nh C√¥ng v√† Th√°ch Th·ª©c</h2>
                <p class="text-center text-stone-600 max-w-3xl mx-auto mb-12">D√π r·∫•t th√†nh c√¥ng trong vi·ªác thu h√∫t ng∆∞·ªùi d√πng, Duolingo v·∫´n ƒë·ªëi m·∫∑t v·ªõi nh·ªØng h·∫°n ch·∫ø c·ªët l√µi, ·∫£nh h∆∞·ªüng ƒë·∫øn hi·ªáu qu·∫£ h·ªçc t·∫≠p v√† kh·∫£ nƒÉng gi·ªØ ch√¢n ng∆∞·ªùi d√πng l√¢u d√†i.</p>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-stone-200">
                        <h3 class="font-bold text-xl mb-3 text-emerald-700">üìâ ƒê·ªông l·ª±c Thi·∫øu b·ªÅn v·ªØng</h3>
                        <p class="text-stone-600">H·ªá th·ªëng "gamification" ch·ªß y·∫øu d·ª±a v√†o ph·∫ßn th∆∞·ªüng b√™n ngo√†i (ƒëi·ªÉm, streak), d·ªÖ d·∫´n ƒë·∫øn vi·ªác "c√†y game" thay v√¨ h·ªçc th·ª±c ch·∫•t. H·ªá th·ªëng "tr√°i tim" mang t√≠nh tr·ª´ng ph·∫°t c√≥ th·ªÉ g√¢y ·ª©c ch·∫ø, l√†m gi·∫£m ƒë·ªông l·ª±c khi m·∫Øc l·ªói.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-stone-200">
                        <h3 class="font-bold text-xl mb-3 text-emerald-700">üé® Giao di·ªán & Tr·∫£i nghi·ªám ch∆∞a t·ªëi ∆∞u</h3>
                        <p class="text-stone-600">M·ªôt s·ªë b√†i t·∫≠p thi·∫øu h∆∞·ªõng d·∫´n r√µ r√†ng, c·∫•u tr√∫c th√¥ng tin ƒë√¥i khi ph·ª©c t·∫°p, g√¢y qu√° t·∫£i nh·∫≠n th·ª©c. C∆° ch·∫ø ph·∫£n h·ªìi l·ªói ch∆∞a th·ª±c s·ª± hi·ªáu qu·∫£ cho vi·ªác h·ªçc h·ªèi t·ª´ sai l·∫ßm.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-stone-200">
                        <h3 class="font-bold text-xl mb-3 text-emerald-700">üë§ C√° nh√¢n h√≥a c√≤n N√¥ng</h3>
                        <p class="text-stone-600">L·ªô tr√¨nh h·ªçc "m·ªôt k√≠ch c·ª° cho t·∫•t c·∫£", √≠t l·ª±a ch·ªçn ch·ªß ƒë·ªÅ. K·ªπ nƒÉng giao ti·∫øp, ƒë·∫∑c bi·ªát l√† n√≥i, ch∆∞a ƒë∆∞·ª£c ch√∫ tr·ªçng, thi·∫øu m√¥i tr∆∞·ªùng t∆∞∆°ng t√°c th·ª±c t·∫ø ƒë·ªÉ luy·ªán t·∫≠p.</p>
                    </div>
                </div>
            </section>

            <!-- SECTION 2: THEORIES -->
            <section id="theories" class="mb-20 scroll-mt-24">
                <h2 class="text-2xl md:text-3xl font-bold text-center mb-2">C∆° S·ªü T√¢m L√Ω H·ªçc Cho S·ª± C·∫£i Ti·∫øn</h2>
                <p class="text-center text-stone-600 max-w-3xl mx-auto mb-12">C√°c ƒë·ªÅ xu·∫•t c·∫£i ti·∫øn ƒë∆∞·ª£c x√¢y d·ª±ng tr√™n n·ªÅn t·∫£ng c√°c l√Ω thuy·∫øt v√† ƒë·ªãnh lu·∫≠t t√¢m l√Ω h·ªçc k·ªπ thu·∫≠t, nh·∫±m gi·∫£i quy·∫øt tr·ª±c ti·∫øp c√°c h·∫°n ch·∫ø ƒë√£ x√°c ƒë·ªãnh.</p>
                <div class="space-y-4">
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-stone-200">
                        <button class="w-full text-left font-bold text-lg flex justify-between items-center theory-toggle">
                            <span>üß† TƒÉng c∆∞·ªùng ƒê·ªông l·ª±c H·ªçc</span>
                            <span class="transform transition-transform text-emerald-600">‚ñº</span>
                        </button>
                        <div class="theory-content hidden mt-4 pl-4 border-l-2 border-emerald-200 text-stone-600 space-y-2">
                            <p><strong>L√Ω thuy·∫øt Nhu c·∫ßu c·ªßa Maslow:</strong> ƒê√°p ·ª©ng c√°c nhu c·∫ßu t√¢m l√Ω b·∫≠c cao (x√£ h·ªôi, ƒë∆∞·ª£c t√¥n tr·ªçng, t·ª± th·ªÉ hi·ªán) th√¥ng qua c√°c t√≠nh nƒÉng c·ªông ƒë·ªìng, s·ª± c√¥ng nh·∫≠n n·ªó l·ª±c v√† l·ªô tr√¨nh h·ªçc linh ho·∫°t ƒë·ªÉ nu√¥i d∆∞·ª°ng ƒë·ªông l·ª±c t·ª´ b√™n trong.</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-stone-200">
                        <button class="w-full text-left font-bold text-lg flex justify-between items-center theory-toggle">
                            <span>üé® C·∫£i thi·ªán Giao di·ªán & Tr·∫£i nghi·ªám (UI/UX)</span>
                            <span class="transform transition-transform text-emerald-600">‚ñº</span>
                        </button>
                        <div class="theory-content hidden mt-4 pl-4 border-l-2 border-emerald-200 text-stone-600 space-y-2">
                            <p><strong>L√Ω thuy·∫øt T·∫£i nh·∫≠n th·ª©c (CLT):</strong> Gi·∫£m t·∫£i th√¥ng tin kh√¥ng c·∫ßn thi·∫øt, ƒë∆°n gi·∫£n h√≥a giao di·ªán ƒë·ªÉ ng∆∞·ªùi h·ªçc t·∫≠p trung v√†o n·ªôi dung ch√≠nh.</p>
                             <p><strong>Lu·∫≠t Gestalt & ƒê·ªãnh lu·∫≠t Miller:</strong> S·∫Øp x·∫øp th√¥ng tin m·ªôt c√°ch logic (G·∫ßn b√™n, T∆∞∆°ng ƒë·ªìng) v√† chia nh·ªè ki·∫øn th·ª©c th√†nh c√°c "ƒëo·∫°n" (chunks) d·ªÖ ti·∫øp thu.</p>
                            <p><strong>ƒê·ªãnh lu·∫≠t Hick & Fitt:</strong> T·ªëi ∆∞u h√≥a vi·ªác ra quy·∫øt ƒë·ªãnh b·∫±ng c√°ch gi·∫£m l·ª±a ch·ªçn v√† thi·∫øt k·∫ø c√°c n√∫t b·∫•m d·ªÖ t∆∞∆°ng t√°c.</p>
                        </div>
                    </div>
                     <div class="bg-white p-4 rounded-lg shadow-sm border border-stone-200">
                        <button class="w-full text-left font-bold text-lg flex justify-between items-center theory-toggle">
                            <span>üë§ C√° nh√¢n h√≥a B√†i h·ªçc</span>
                             <span class="transform transition-transform text-emerald-600">‚ñº</span>
                        </button>
                        <div class="theory-content hidden mt-4 pl-4 border-l-2 border-emerald-200 text-stone-600 space-y-2">
                            <p><strong>M√¥ h√¨nh x·ª≠ l√Ω th√¥ng tin & L√Ω thuy·∫øt v·ªÅ Tr√≠ nh·ªõ:</strong> X√¢y d·ª±ng l·ªô tr√¨nh h·ªçc th√≠ch ·ª©ng d·ª±a tr√™n c√°ch ng∆∞·ªùi d√πng x·ª≠ l√Ω v√† ghi nh·ªõ th√¥ng tin, c√° nh√¢n h√≥a c√°c b√†i √¥n t·∫≠p ƒë·ªÉ c·ªßng c·ªë ki·∫øn th·ª©c d√†i h·∫°n.</p>
                            <p><strong>L√Ω thuy·∫øt Ph·∫£n ·ª©ng:</strong> Cung c·∫•p ph·∫£n h·ªìi l·ªói mang t√≠nh x√¢y d·ª±ng v√† c√° nh√¢n h√≥a, gi√∫p ng∆∞·ªùi h·ªçc hi·ªÉu r√µ v√† h·ªçc h·ªèi t·ª´ sai l·∫ßm c·ªßa m√¨nh.</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- SECTION 3: SOLUTION -->
            <section id="solution" class="mb-20 scroll-mt-24">
                <h2 class="text-2xl md:text-3xl font-bold text-center mb-2">Gi·∫£i Ph√°p C·∫£i Ti·∫øn</h2>
                <p class="text-center text-stone-600 max-w-3xl mx-auto mb-12">D∆∞·ªõi ƒë√¢y l√† m√¥ ph·ªèng c√°c thay ƒë·ªïi c·ª• th·ªÉ, cho th·∫•y s·ª± chuy·ªÉn ƒë·ªïi t·ª´ tr·∫£i nghi·ªám hi·ªán t·∫°i sang m·ªôt phi√™n b·∫£n Duolingo ƒë∆∞·ª£c t·ªëi ∆∞u h√≥a h∆°n.</p>

                <div id="solution-tabs" class="mb-8 flex flex-wrap justify-center gap-2 md:gap-4 border-b-2 border-stone-200 pb-4">
                     <button data-tab="motivation" class="tab-button active text-sm md:text-base font-semibold py-2 px-4 rounded-full border-2 border-transparent transition-all duration-300">ƒê·ªông l·ª±c B·ªÅn v·ªØng</button>
                     <button data-tab="ui" class="tab-button text-sm md:text-base font-semibold py-2 px-4 rounded-full border-2 border-transparent transition-all duration-300">Giao di·ªán Th√¥ng minh</button>
                     <button data-tab="personalization" class="tab-button text-sm md:text-base font-semibold py-2 px-4 rounded-full border-2 border-transparent transition-all duration-300">L·ªô tr√¨nh C√° nh√¢n h√≥a</button>
                </div>

                <div id="solution-content" class="bg-white p-6 md:p-8 rounded-xl shadow-lg border border-stone-200">
                    <!-- Motivation Content -->
                    <div id="motivation-content" class="tab-content">
                        <h3 class="font-bold text-xl md:text-2xl mb-4 text-center">Chuy·ªÉn ƒë·ªïi t·ª´ ƒê·ªông l·ª±c Ngo√†i sang ƒê·ªông l·ª±c Trong</h3>
                        <p class="text-center text-stone-600 mb-8">Thay v√¨ ch·ªâ d·ª±a v√†o ƒëi·ªÉm s·ªë, h·ªá th·ªëng m·ªõi nu√¥i d∆∞·ª°ng s·ª± t·ª± ch·ªß, c·∫£m gi√°c ti·∫øn b·ªô v√† k·∫øt n·ªëi x√£ h·ªôi ƒë·ªÉ t·∫°o ƒë·ªông l·ª±c h·ªçc t·∫≠p b·ªÅn v·ªØng.</p>
                        <div class="chart-container">
                            <canvas id="motivationChart"></canvas>
                        </div>
                    </div>
                    <!-- UI/UX Content -->
                    <div id="ui-content" class="tab-content hidden">
                        <h3 class="font-bold text-xl md:text-2xl mb-6 text-center">T·ªëi ∆∞u h√≥a Giao di·ªán v√† Ph·∫£n h·ªìi</h3>
                        <div class="grid md:grid-cols-2 gap-8 items-center">
                            <div>
                                <h4 class="font-semibold text-lg text-center mb-3">Tr∆∞·ªõc: Giao di·ªán hi·ªán t·∫°i</h4>
                                <div class="bg-stone-100 p-4 rounded-lg border-2 border-stone-200">
                                    <div class="w-full h-64 flex flex-col items-center justify-center text-center p-4">
                                        <p class="font-bold mb-4">B·∫°n ƒë√£ m·∫•t m·ªôt tr√°i tim!</p>
                                        <div class="text-5xl mb-4">üíî</div>
                                        <p class="text-sm text-stone-500">Qu·∫£ng c√°o s·∫Ω xu·∫•t hi·ªán ƒë·ªÉ ph·ª•c h·ªìi. B·∫£ng x·∫øp h·∫°ng v√† streak ƒëang b·ªã ƒëe d·ªça.</p>
                                        <div class="mt-4 flex space-x-2">
                                            <div class="w-10 h-10 bg-red-500 rounded-full"></div>
                                            <div class="w-10 h-10 bg-red-500 rounded-full"></div>
                                            <div class="w-10 h-10 bg-red-500 rounded-full"></div>
                                            <div class="w-10 h-10 bg-stone-300 rounded-full"></div>
                                        </div>
                                    </div>
                                </div>
                                <p class="text-center text-sm mt-2 text-stone-500">T·∫≠p trung v√†o tr·ª´ng ph·∫°t, g√¢y ·ª©c ch·∫ø.</p>
                            </div>
                             <div>
                                <h4 class="font-semibold text-lg text-center mb-3">Sau: Ph·∫£n h·ªìi mang t√≠nh x√¢y d·ª±ng</h4>
                                <div class="bg-emerald-50 p-4 rounded-lg border-2 border-emerald-200">
                                    <div class="w-full h-64 flex flex-col items-center justify-center text-center p-4">
                                        <p class="font-bold mb-2 text-emerald-800">C√πng xem l·∫°i nh√©!</p>
                                        <p class="text-sm text-stone-600 mb-4">L·ªói sai v·ª´a r·ªìi li√™n quan ƒë·∫øn <strong class="text-emerald-700">c√°ch chia ƒë·ªông t·ª´ ·ªü th√¨ qu√° kh·ª©</strong>. ƒê√¢y l√† c∆° h·ªôi ƒë·ªÉ h·ªçc h·ªèi!</p>
                                        <button class="bg-emerald-600 text-white py-2 px-4 rounded-lg text-sm font-semibold hover:bg-emerald-700 transition">Xem gi·∫£i th√≠ch (15s)</button>
                                        <p class="text-xs text-stone-500 mt-4">NƒÉng l∆∞·ª£ng h·ªçc t·∫≠p c·ªßa b·∫°n v·∫´n c√≤n. H√£y ti·∫øp t·ª•c c·ªë g·∫Øng!</p>
                                    </div>
                                </div>
                                <p class="text-center text-sm mt-2 text-emerald-600">Khuy·∫øn kh√≠ch h·ªçc h·ªèi t·ª´ l·ªói sai, gi·∫£m √°p l·ª±c.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Personalization Content -->
                    <div id="personalization-content" class="tab-content hidden">
                        <h3 class="font-bold text-xl md:text-2xl mb-6 text-center">L·ªô tr√¨nh h·ªçc v√† Luy·ªán t·∫≠p Th√¥ng minh</h3>
                        <p class="text-center text-stone-600 mb-8">T√≠ch h·ª£p AI ƒë·ªÉ cung c·∫•p l·ªô tr√¨nh h·ªçc linh ho·∫°t, c√°c b√†i t·∫≠p ph√π h·ª£p v√† m√¥i tr∆∞·ªùng an to√†n ƒë·ªÉ luy·ªán t·∫≠p giao ti·∫øp.</p>
                         <div class="bg-stone-100 p-6 rounded-xl border border-stone-200">
                            <h4 class="font-semibold text-lg mb-4 text-center">Th·ª≠ nghi·ªám C·ªë v·∫•n H·ªçc t·∫≠p AI</h4>
                            <p class="text-center text-sm text-stone-600 mb-4">Nh·∫≠p m·ªôt c√¢u ho·∫∑c m·ªôt ch·ªß ƒë·ªÅ b·∫°n mu·ªën h·ªèi b·∫±ng ti·∫øng Vi·ªát, AI s·∫Ω ƒë√≥ng vai tr√≤ gia s∆∞ v√† gi·∫£i ƒë√°p b·∫±ng ng√¥n ng·ªØ b·∫°n ƒëang h·ªçc (v√≠ d·ª•: Ti·∫øng Anh).</p>
                            <div class="flex flex-col sm:flex-row gap-2 mb-4">
                                <input type="text" id="ai-prompt" placeholder="V√≠ d·ª•: c√°ch h·ªèi ƒë∆∞·ªùng ƒë·∫øn nh√† ga" class="flex-grow p-2 rounded-md border border-stone-300 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none">
                                <button id="ai-submit" class="bg-emerald-600 text-white font-bold py-2 px-4 rounded-md hover:bg-emerald-700 transition">H·ªèi AI</button>
                            </div>
                            <div id="ai-response-container" class="mt-4 p-4 bg-white rounded-md border border-stone-200 min-h-[100px] text-stone-700">
                                <p id="ai-response-placeholder" class="text-stone-400">C√¢u tr·∫£ l·ªùi t·ª´ AI s·∫Ω xu·∫•t hi·ªán ·ªü ƒë√¢y...</p>
                                <div id="ai-loading" class="hidden text-center">
                                    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600 mx-auto"></div>
                                    <p class="mt-2 text-sm text-stone-500">AI ƒëang suy nghƒ©...</p>
                                </div>
                                <div id="ai-response"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

             <!-- SECTION 4: IMPACT -->
            <section id="impact" class="scroll-mt-24">
                <h2 class="text-2xl md:text-3xl font-bold text-center mb-2">ƒê√°nh Gi√° T√°c ƒê·ªông D·ª± Ki·∫øn</h2>
                <p class="text-center text-stone-600 max-w-3xl mx-auto mb-12">Vi·ªác √°p d·ª•ng c√°c nguy√™n l√Ω t√¢m l√Ω h·ªçc ƒë∆∞·ª£c k·ª≥ v·ªçng s·∫Ω t·∫°o ra s·ª± c·∫£i thi·ªán ƒë√°ng k·ªÉ tr√™n c√°c kh√≠a c·∫°nh c·ªët l√µi c·ªßa tr·∫£i nghi·ªám h·ªçc t·∫≠p.</p>
                <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg border border-stone-200">
                    <div class="chart-container">
                        <canvas id="impactChart"></canvas>
                    </div>
                </div>
            </section>
        </main>

        <footer class="text-center mt-20 pt-8 border-t border-stone-200">
            <p class="text-stone-600">D·ª± √°n ƒë∆∞·ª£c th·ª±c hi·ªán d·ª±a tr√™n b√°o c√°o "V·∫≠n d·ª•ng c√°c l√Ω thuy·∫øt v√† ƒë·ªãnh lu·∫≠t t√¢m l√Ω v√†o c·∫£i ti·∫øn ·ª©ng d·ª•ng Duolingo".</p>
            <p class="text-sm text-stone-500 mt-1">Khoa S∆∞ ph·∫°m K·ªπ thu·∫≠t - Tr∆∞·ªùng ƒê·∫°i h·ªçc S∆∞ ph·∫°m K·ªπ thu·∫≠t H∆∞ng Y√™n</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            const motivationChartCtx = document.getElementById('motivationChart').getContext('2d');
            new Chart(motivationChartCtx, {
                type: 'radar',
                data: {
                    labels: ['ƒê·ªông l·ª±c Ngo√†i (ƒêi·ªÉm, C·∫°nh tranh)', '√Åp l·ª±c (S·ª£ m·∫•t Streak)', 'C·∫£m gi√°c Ti·∫øn b·ªô (NƒÉng l·ª±c)', 'S·ª± T·ª± ch·ªß (L·ª±a ch·ªçn)', 'K·∫øt n·ªëi X√£ h·ªôi', 'S·ª± Th√∫ v·ªã N·ªôi t·∫°i'],
                    datasets: [{
                        label: 'Hi·ªán t·∫°i',
                        data: [9, 8, 4, 3, 3, 5],
                        backgroundColor: 'rgba(244, 63, 94, 0.2)',
                        borderColor: 'rgba(244, 63, 94, 1)',
                        pointBackgroundColor: 'rgba(244, 63, 94, 1)',
                    }, {
                        label: 'C·∫£i ti·∫øn',
                        data: [5, 2, 9, 8, 8, 9],
                        backgroundColor: 'rgba(5, 150, 105, 0.2)',
                        borderColor: 'rgba(5, 150, 105, 1)',
                        pointBackgroundColor: 'rgba(5, 150, 105, 1)',
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            pointLabels: {
                                font: {
                                    size: 10
                                }
                            },
                            ticks: {
                                backdropColor: 'rgba(255, 255, 255, 0.75)',
                                stepSize: 2
                            },
                            suggestedMin: 0,
                            suggestedMax: 10
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    }
                }
            });

            const impactChartCtx = document.getElementById('impactChart').getContext('2d');
            new Chart(impactChartCtx, {
                type: 'bar',
                data: {
                    labels: ['ƒê·ªông l·ª±c B·ªÅn v·ªØng', 'Hi·ªáu qu·∫£ Ghi nh·ªõ', 'Tr·∫£i nghi·ªám Ng∆∞·ªùi d√πng', 'T√≠nh C√° nh√¢n h√≥a', 'T·ª± tin Giao ti·∫øp'],
                    datasets: [{
                        label: 'Tr∆∞·ªõc C·∫£i ti·∫øn',
                        data: [4, 6, 5, 3, 2],
                        backgroundColor: 'rgba(244, 114, 182, 0.6)',
                        borderColor: 'rgba(244, 114, 182, 1)',
                        borderWidth: 1
                    }, {
                        label: 'Sau C·∫£i ti·∫øn (D·ª± ki·∫øn)',
                        data: [9, 8, 9, 8, 7],
                        backgroundColor: 'rgba(16, 185, 129, 0.6)',
                        borderColor: 'rgba(16, 185, 129, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                     scales: {
                        x: {
                            beginAtZero: true,
                            max: 10
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: ${context.raw}/10`;
                                }
                            }
                        }
                    }
                }
            });
            
            const theoryToggles = document.querySelectorAll('.theory-toggle');
            theoryToggles.forEach(button => {
                button.addEventListener('click', () => {
                    const content = button.nextElementSibling;
                    const arrow = button.querySelector('span:last-child');
                    content.classList.toggle('hidden');
                    arrow.classList.toggle('rotate-180');
                });
            });

            const tabs = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(item => item.classList.remove('active'));
                    tab.classList.add('active');

                    const target = tab.getAttribute('data-tab');
                    
                    tabContents.forEach(content => {
                        if (content.id === `${target}-content`) {
                            content.classList.remove('hidden');
                        } else {
                            content.classList.add('hidden');
                        }
                    });
                });
            });

            const aiSubmitButton = document.getElementById('ai-submit');
            const aiPromptInput = document.getElementById('ai-prompt');
            const aiResponseContainer = document.getElementById('ai-response-container');
            const aiResponsePlaceholder = document.getElementById('ai-response-placeholder');
            const aiLoading = document.getElementById('ai-loading');
            const aiResponseDiv = document.getElementById('ai-response');

            aiSubmitButton.addEventListener('click', handleAIRequest);
            aiPromptInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    handleAIRequest();
                }
            });

            async function handleAIRequest() {
                const prompt = aiPromptInput.value.trim();
                if (!prompt) {
                    aiResponseDiv.innerHTML = '<p class="text-red-500">Vui l√≤ng nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n.</p>';
                    return;
                }

                aiResponsePlaceholder.classList.add('hidden');
                aiResponseDiv.innerHTML = '';
                aiLoading.classList.remove('hidden');
                aiSubmitButton.disabled = true;

                try {
                    const fullPrompt = `
                        You are a warm, intelligent, and flexible language learning assistant. You help users who are learning a new language by detecting their input language and responding clearly and beautifully, based on their question.

                        The user's question is: "${prompt}"

                        Your goals:
                        - Detect the user's input language.
                        - Identify the target language (if implied or known).
                        - Respond in a natural, conversational, and helpful tone.
                        - Support any type of request, including:
                        - Explaining grammar points.
                        - Correcting sentences and explaining mistakes.
                        - Providing translations with explanations.
                        - Giving study plans or learning tips.
                        - Answering general life-related questions as they relate to language or cultural context.

                        Always format your response clearly with markdown and use bold titles in the user's input language (or inferred language). For example:

                        **Gi·∫£i th√≠ch:**  
                        **V√≠ d·ª•:**  
                        **L·ªô tr√¨nh h·ªçc:**  
                        **S·ª≠a l·ªói:**  

                        You may use bullet points and short paragraphs. Keep things simple and friendly, but never robotic or overly casual. You may mix both the user's language and the target language when helpful.

                        Be concise, relevant, and naturally structured. Avoid boilerplate.`;



                    let chatHistory = [{ role: "user", parts: [{ text: fullPrompt }] }];
                    const payload = { contents: chatHistory };
                    const apiKey = "AIzaSyBpldRdy74KWYuTBxk9BENopvX2aPlf99Y"; 
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                    
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API error: ${response.statusText}`);
                    }

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        
                        let text = result.candidates[0].content.parts[0].text;
                        text = text.replace(/\*\*(.*?)\*\*/g, '<strong class="font-semibold text-emerald-700">$1</strong>');
                        text = text.replace(/\n/g, '<br>');
                        aiResponseDiv.innerHTML = text;

                    } else {
                        throw new Error("Kh√¥ng nh·∫≠n ƒë∆∞·ª£c ph·∫£n h·ªìi h·ª£p l·ªá t·ª´ AI.");
                    }

                } catch (error) {
                    aiResponseDiv.innerHTML = `<p class="text-red-500">ƒê√£ c√≥ l·ªói x·∫£y ra: ${error.message}. Vui l√≤ng th·ª≠ l·∫°i.</p>`;
                } finally {
                    aiLoading.classList.add('hidden');
                    aiSubmitButton.disabled = false;
                }
            }
        });
    </script>
    <script src="https://cdn.counter.dev/script.js" data-id="d30fe0e9-be4b-46b1-9693-a7de824777c3" data-utcoffset="7"></script>
</body>
</html>
